# 编码注释规范 (Coding and Commenting Standards)

## 1. 整体思维
- **模块化**: 将代码分解为独立、可复用的模块
- **轻量化**: 避免冗余代码，保持代码简洁
- **可扩展**: 设计易于扩展的架构
- **高性能**: 优化关键路径，减少不必要的计算
- **高维护性**: 代码结构清晰，易于修改和调试
- **高可读性**: 代码和注释易于理解
- **调用方式极简**: 提供简单直观的API接口

## 2. 代码规范
- **规范化**: 遵循一致的代码风格
- **简洁优雅**: 避免复杂逻辑，使用清晰的结构
- **按需配置**: 无配置项时不运行对应代码块

## 3. 命名规则
- **函数和变量命名**: 从实际作用出发，简洁清晰
- **避免模糊命名**: 确保名称准确反映功能
- **防止混淆**: 避免与现有或未来同类型函数/变量名称冲突

## 4. 注释标准
### 通用要求
- **语言**: 注释和日志使用中文，简洁清晰优雅
- **目的导向**: 从实际应用目的出发，阐明设计涵义
- **文件注释**: 文件作用和功能注释在路径注释之下
- **重点难点**: 在复杂处额外注释编码思路和用途
- **复杂函数**: 阐明执行顺序
- **简洁性**: 在保证可读性的前提下，尽量减少注释行数

### 函数头注释格式
```javascript
/**
 * 删除表数据
 * @param {Object} app - Obsidian 实例
 * @param {string} tableId - 表 ID（如 Yeli-Sleep）
 * @param {number} [year] - 年份，默认删除全部
 * @returns {Promise<boolean>} 是否成功
 */
```

### 三级注释体系
- **模块级**: `// 1. 参数校验` - 划分功能区块，如章节标题
- **段落级**: `/* 加载表格索引数据 */` - 解释代码段目的，如重点段落
- **行级**: `partitionOffset += partition.rows;  // 累计行计数器` - 关键操作说明，如重点句子

## 5. 调用指南
- **通用功能脚本**: 在末尾附加完整的调用指南
- **非通用脚本**: 不需要调用指南
- **关键配置项**: 添加到指南中，说明用途和示例